{"ast":null,"code":"import _classCallCheck from\"C:/Users/osos1/reservation-plus/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/osos1/reservation-plus/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/osos1/reservation-plus/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/osos1/reservation-plus/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/osos1/reservation-plus/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{Link}from'react-router-dom';import Loader from'../../layouts/Loader';import classNames from'classnames';import blogpost from'../../../data/blog.json';import authors from'../../../data/authors.json';import{getFilteredPosts}from'../../../helper/Bloghelper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.state={items:_this.getPosts(),currentPage:1,itemsPerPage:6,loading:false};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Content,[{key:\"getPosts\",value:function getPosts(){var cat=this.props.catId?this.props.catId:'';var tag=this.props.tagId?this.props.tagId:'';var author=this.props.userId?this.props.userId:'';var filteredItems=getFilteredPosts(blogpost,cat={cat:cat,tag:tag,author:author});return filteredItems;}},{key:\"handleClick\",value:function handleClick(event){var _this2=this;var paginationContent=event.target.closest('.pagination-content');if(paginationContent){paginationContent.scrollIntoView();}this.setState({loading:true});setTimeout(function(){_this2.setState({currentPage:Number(event.target.getAttribute('data-page')),loading:false});},2000);}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,items=_this$state.items,currentPage=_this$state.currentPage,itemsPerPage=_this$state.itemsPerPage;// Logic for displaying items\nvar indexOfLastitem=currentPage*itemsPerPage;var indexOfFirstitem=indexOfLastitem-itemsPerPage;var currentitems=items.slice(indexOfFirstitem,indexOfLastitem);var renderitems=currentitems.map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"latest-post-box mb-40\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"post-img\",style:{backgroundImage:\"url(\"+process.env.PUBLIC_URL+\"/\"+item.gridimg+\")\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-desc\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"post-meta\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/blog-details/\"+item.id,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fal fa-calendar-alt\"}),item.postdate]})}),item.author.map(function(author){return authors.filter(function(item){return item.id===author;}).map(function(author,i){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/blog/user/\"+author.id,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fal fa-user\"}),\"By \",author.name]})},i);});})]}),/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(Link,{to:\"/blog-details/\"+item.id,children:item.title})}),/*#__PURE__*/_jsx(\"p\",{children:item.shortdesc.slice(0,100)})]})]})},i);});// Logic for displaying page numbers\nvar pageNumbers=[];for(var i=1;i<=Math.ceil(items.length/itemsPerPage);i++){pageNumbers.push(i);}var renderPagination=pageNumbers.map(function(number){var activeCondition=_this3.state.currentPage===number?'active':'';return/*#__PURE__*/_jsx(Fragment,{children:pageNumbers.length>1?/*#__PURE__*/_jsx(\"li\",{className:classNames({\"active\":activeCondition}),children:/*#__PURE__*/_jsx(Link,{to:\"#\",\"data-page\":number,onClick:_this3.handleClick,children:number})}):''},number);});return/*#__PURE__*/_jsx(\"section\",{className:\"latest-news pt-120 pb-120 pagination-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center room-gird-loop\",children:this.state.loading===false?renderitems:/*#__PURE__*/_jsx(Loader,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination-wrap\",children:pageNumbers.length>1?/*#__PURE__*/_jsxs(\"ul\",{children:[pageNumbers.length>1&&this.state.currentPage!==1?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"#\",\"data-page\":this.state.currentPage-1,onClick:this.handleClick,children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-angle-double-left\"})})}):'',renderPagination,pageNumbers.length>1&&this.state.currentPage!==pageNumbers.length?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"#\",\"data-page\":parseInt(this.state.currentPage+1),onClick:this.handleClick,children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-angle-double-right\"})})}):'']}):''})]})});}}]);return Content;}(Component);export default Content;","map":{"version":3,"sources":["C:/Users/osos1/reservation-plus/src/components/sections/blog/Content.js"],"names":["React","Component","Fragment","Link","Loader","classNames","blogpost","authors","getFilteredPosts","Content","props","state","items","getPosts","currentPage","itemsPerPage","loading","handleClick","bind","cat","catId","tag","tagId","author","userId","filteredItems","event","paginationContent","target","closest","scrollIntoView","setState","setTimeout","Number","getAttribute","indexOfLastitem","indexOfFirstitem","currentitems","slice","renderitems","map","item","i","backgroundImage","process","env","PUBLIC_URL","gridimg","id","postdate","filter","name","title","shortdesc","pageNumbers","Math","ceil","length","push","renderPagination","number","activeCondition","parseInt"],"mappings":"0jBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4BAApB,CACA,OAASC,gBAAT,KAAiC,4BAAjC,C,2FAEMC,CAAAA,O,kGACF,iBAAYC,KAAZ,CAAmB,yCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,MAAKC,QAAL,EADE,CAETC,WAAW,CAAE,CAFJ,CAGTC,YAAY,CAAE,CAHL,CAITC,OAAO,CAAE,KAJA,CAAb,CAMA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CARe,aASlB,C,4CAED,mBAAW,CACP,GAAIC,CAAAA,GAAG,CAAG,KAAKT,KAAL,CAAWU,KAAX,CAAmB,KAAKV,KAAL,CAAWU,KAA9B,CAAsC,EAAhD,CACA,GAAIC,CAAAA,GAAG,CAAG,KAAKX,KAAL,CAAWY,KAAX,CAAmB,KAAKZ,KAAL,CAAWY,KAA9B,CAAsC,EAAhD,CACA,GAAIC,CAAAA,MAAM,CAAG,KAAKb,KAAL,CAAWc,MAAX,CAAoB,KAAKd,KAAL,CAAWc,MAA/B,CAAwC,EAArD,CACA,GAAIC,CAAAA,aAAa,CAAGjB,gBAAgB,CAACF,QAAD,CAAWa,GAAG,CAAG,CAAEA,GAAG,CAAHA,GAAF,CAAOE,GAAG,CAAHA,GAAP,CAAYE,MAAM,CAANA,MAAZ,CAAjB,CAApC,CACA,MAAOE,CAAAA,aAAP,CACH,C,2BACD,qBAAYC,KAAZ,CAAmB,iBACf,GAAIC,CAAAA,iBAAiB,CAAGD,KAAK,CAACE,MAAN,CAAaC,OAAb,CAAqB,qBAArB,CAAxB,CAEA,GAAIF,iBAAJ,CAAuB,CACnBA,iBAAiB,CAACG,cAAlB,GACH,CAED,KAAKC,QAAL,CAAc,CACVf,OAAO,CAAE,IADC,CAAd,EAGAgB,UAAU,CAAC,UAAM,CACb,MAAI,CAACD,QAAL,CAAc,CACVjB,WAAW,CAAEmB,MAAM,CAACP,KAAK,CAACE,MAAN,CAAaM,YAAb,CAA0B,WAA1B,CAAD,CADT,CAEVlB,OAAO,CAAE,KAFC,CAAd,EAIH,CALS,CAKP,IALO,CAAV,CAOH,C,sBACD,iBAAS,iCACwC,KAAKL,KAD7C,CACGC,KADH,aACGA,KADH,CACUE,WADV,aACUA,WADV,CACuBC,YADvB,aACuBA,YADvB,CAGL;AACA,GAAMoB,CAAAA,eAAe,CAAGrB,WAAW,CAAGC,YAAtC,CACA,GAAMqB,CAAAA,gBAAgB,CAAGD,eAAe,CAAGpB,YAA3C,CACA,GAAMsB,CAAAA,YAAY,CAAGzB,KAAK,CAAC0B,KAAN,CAAYF,gBAAZ,CAA8BD,eAA9B,CAArB,CAEA,GAAMI,CAAAA,WAAW,CAAGF,YAAY,CAACG,GAAb,CAAiB,SAACC,IAAD,CAAOC,CAAP,CAAa,CAC9C,mBAAO,YAAa,SAAS,CAAC,UAAvB,uBACH,aAAK,SAAS,CAAC,uBAAf,wBACI,YAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAAEC,eAAe,CAAE,OAASC,OAAO,CAACC,GAAR,CAAYC,UAArB,CAAkC,GAAlC,CAAwCL,IAAI,CAACM,OAA7C,CAAuD,GAA1E,CAAjC,EADJ,cAEI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAI,SAAS,CAAC,WAAd,wBACI,iCACI,MAAC,IAAD,EAAM,EAAE,CAAE,iBAAmBN,IAAI,CAACO,EAAlC,wBAAsC,UAAG,SAAS,CAAC,qBAAb,EAAtC,CAA4EP,IAAI,CAACQ,QAAjF,GADJ,EADJ,CAIKR,IAAI,CAAClB,MAAL,CAAYiB,GAAZ,CAAgB,SAACjB,MAAD,QACbhB,CAAAA,OAAO,CAAC2C,MAAR,CAAe,SAAAT,IAAI,CAAI,CACnB,MAAOA,CAAAA,IAAI,CAACO,EAAL,GAAYzB,MAAnB,CACH,CAFD,EAEGiB,GAFH,CAEO,SAACjB,MAAD,CAASmB,CAAT,qBACH,iCAAY,MAAC,IAAD,EAAM,EAAE,CAAE,cAAgBnB,MAAM,CAACyB,EAAjC,wBAAqC,UAAG,SAAS,CAAC,aAAb,EAArC,OAAsEzB,MAAM,CAAC4B,IAA7E,GAAZ,EAAST,CAAT,CADG,EAFP,CADa,EAAhB,CAJL,GADJ,cAaI,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAE,iBAAmBD,IAAI,CAACO,EAAlC,UAAuCP,IAAI,CAACW,KAA5C,EAAJ,EAbJ,cAcI,mBACKX,IAAI,CAACY,SAAL,CAAef,KAAf,CAAqB,CAArB,CAAwB,GAAxB,CADL,EAdJ,GAFJ,GADG,EAAUI,CAAV,CAAP,CAuBH,CAxBmB,CAApB,CAyBA;AACA,GAAMY,CAAAA,WAAW,CAAG,EAApB,CACA,IAAK,GAAIZ,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,EAAIa,IAAI,CAACC,IAAL,CAAU5C,KAAK,CAAC6C,MAAN,CAAe1C,YAAzB,CAArB,CAA6D2B,CAAC,EAA9D,CAAkE,CAC9DY,WAAW,CAACI,IAAZ,CAAiBhB,CAAjB,EACH,CACD,GAAMiB,CAAAA,gBAAgB,CAAGL,WAAW,CAACd,GAAZ,CAAgB,SAAAoB,MAAM,CAAI,CAC/C,GAAMC,CAAAA,eAAe,CAAG,MAAI,CAAClD,KAAL,CAAWG,WAAX,GAA2B8C,MAA3B,CAAoC,QAApC,CAA+C,EAAvE,CACA,mBACI,KAAC,QAAD,WACKN,WAAW,CAACG,MAAZ,CAAqB,CAArB,cAAyB,WAAI,SAAS,CAAEpD,UAAU,CAAC,CAAE,SAAUwD,eAAZ,CAAD,CAAzB,uBACtB,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,YAAWD,MAAxB,CAAgC,OAAO,CAAE,MAAI,CAAC3C,WAA9C,UAA4D2C,MAA5D,EADsB,EAAzB,CAEO,EAHZ,EAAeA,MAAf,CADJ,CAOH,CATwB,CAAzB,CAUA,mBACI,gBAAS,SAAS,CAAC,8CAAnB,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,2CAAf,UAEK,KAAKjD,KAAL,CAAWK,OAAX,GAAuB,KAAvB,CAA+BuB,WAA/B,cAA6C,KAAC,MAAD,IAFlD,EADJ,cAMI,YAAK,SAAS,CAAC,iBAAf,UACKe,WAAW,CAACG,MAAZ,CAAqB,CAArB,cACG,sBAGKH,WAAW,CAACG,MAAZ,CAAqB,CAArB,EAA0B,KAAK9C,KAAL,CAAWG,WAAX,GAA2B,CAArD,cACG,iCACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,YAAW,KAAKH,KAAL,CAAWG,WAAX,CAAyB,CAAjD,CAAoD,OAAO,CAAE,KAAKG,WAAlE,uBACI,UAAG,SAAS,CAAC,0BAAb,EADJ,EADJ,EADH,CAMK,EATV,CAWK0C,gBAXL,CAcKL,WAAW,CAACG,MAAZ,CAAqB,CAArB,EAA0B,KAAK9C,KAAL,CAAWG,WAAX,GAA2BwC,WAAW,CAACG,MAAjE,cAA0E,iCACvE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,YAAWK,QAAQ,CAAC,KAAKnD,KAAL,CAAWG,WAAX,CAAyB,CAA1B,CAAhC,CAA8D,OAAO,CAAE,KAAKG,WAA5E,uBACI,UAAG,SAAS,CAAC,2BAAb,EADJ,EADuE,EAA1E,CAKK,EAnBV,GADH,CAsBW,EAvBhB,EANJ,GADJ,EADJ,CAsCH,C,qBA3HiBhB,S,EA8HtB,cAAeQ,CAAAA,OAAf","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Loader from '../../layouts/Loader';\r\nimport classNames from 'classnames';\r\nimport blogpost from '../../../data/blog.json';\r\nimport authors from '../../../data/authors.json';\r\nimport { getFilteredPosts } from '../../../helper/Bloghelper';\r\n\r\nclass Content extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: this.getPosts(),\r\n            currentPage: 1,\r\n            itemsPerPage: 6,\r\n            loading: false\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    getPosts() {\r\n        var cat = this.props.catId ? this.props.catId : '';\r\n        var tag = this.props.tagId ? this.props.tagId : '';\r\n        var author = this.props.userId ? this.props.userId : '';\r\n        var filteredItems = getFilteredPosts(blogpost, cat = { cat, tag, author });\r\n        return filteredItems;\r\n    }\r\n    handleClick(event) {\r\n        var paginationContent = event.target.closest('.pagination-content');\r\n\r\n        if (paginationContent) {\r\n            paginationContent.scrollIntoView();\r\n        }\r\n\r\n        this.setState({\r\n            loading: true\r\n        });\r\n        setTimeout(() => {\r\n            this.setState({\r\n                currentPage: Number(event.target.getAttribute('data-page')),\r\n                loading: false\r\n            });\r\n        }, 2000);\r\n\r\n    }\r\n    render() {\r\n        const { items, currentPage, itemsPerPage } = this.state;\r\n\r\n        // Logic for displaying items\r\n        const indexOfLastitem = currentPage * itemsPerPage;\r\n        const indexOfFirstitem = indexOfLastitem - itemsPerPage;\r\n        const currentitems = items.slice(indexOfFirstitem, indexOfLastitem);\r\n\r\n        const renderitems = currentitems.map((item, i) => {\r\n            return <div key={i} className=\"col-lg-4\">\r\n                <div className=\"latest-post-box mb-40\">\r\n                    <div className=\"post-img\" style={{ backgroundImage: \"url(\" + process.env.PUBLIC_URL + \"/\" + item.gridimg + \")\" }} />\r\n                    <div className=\"post-desc\">\r\n                        <ul className=\"post-meta\">\r\n                            <li>\r\n                                <Link to={\"/blog-details/\" + item.id}><i className=\"fal fa-calendar-alt\" />{item.postdate}</Link>\r\n                            </li>\r\n                            {item.author.map((author) => (\r\n                                authors.filter(item => {\r\n                                    return item.id === author\r\n                                }).map((author, i) => (\r\n                                    <li key={i}><Link to={\"/blog/user/\" + author.id}><i className=\"fal fa-user\" />By {author.name}</Link></li>\r\n                                ))\r\n                            ))}\r\n                        </ul>\r\n                        <h4><Link to={\"/blog-details/\" + item.id}>{item.title}</Link></h4>\r\n                        <p>\r\n                            {item.shortdesc.slice(0, 100)}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        });\r\n        // Logic for displaying page numbers\r\n        const pageNumbers = [];\r\n        for (let i = 1; i <= Math.ceil(items.length / itemsPerPage); i++) {\r\n            pageNumbers.push(i);\r\n        }\r\n        const renderPagination = pageNumbers.map(number => {\r\n            const activeCondition = this.state.currentPage === number ? 'active' : ''\r\n            return (\r\n                <Fragment key={number}>\r\n                    {pageNumbers.length > 1 ? <li className={classNames({ \"active\": activeCondition })}>\r\n                        <Link to=\"#\" data-page={number} onClick={this.handleClick}>{number}</Link>\r\n                    </li> : ''}\r\n                </Fragment>\r\n            );\r\n        });\r\n        return (\r\n            <section className=\"latest-news pt-120 pb-120 pagination-content\">\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center room-gird-loop\">\r\n                        {/* Post Start */}\r\n                        {this.state.loading === false ? renderitems : <Loader />}\r\n                        {/* Post End */}\r\n                    </div>\r\n                    <div className=\"pagination-wrap\">\r\n                        {pageNumbers.length > 1 ?\r\n                            <ul>\r\n                                {/* Prev */}\r\n                                {/* to show previous, we need to be on the 2nd or more page */}\r\n                                {pageNumbers.length > 1 && this.state.currentPage !== 1 ?\r\n                                    <li>\r\n                                        <Link to=\"#\" data-page={this.state.currentPage - 1} onClick={this.handleClick}>\r\n                                            <i className=\"far fa-angle-double-left\" />\r\n                                        </Link>\r\n                                    </li>\r\n                                    : ''}\r\n                                {/* Prev */}\r\n                                {renderPagination}\r\n                                {/* Next */}\r\n                                {/* to show next, we should not be on the last page */}\r\n                                {pageNumbers.length > 1 && this.state.currentPage !== pageNumbers.length ? <li>\r\n                                    <Link to=\"#\" data-page={parseInt(this.state.currentPage + 1)} onClick={this.handleClick}>\r\n                                        <i className=\"far fa-angle-double-right\" />\r\n                                    </Link>\r\n                                </li>\r\n                                    : ''}\r\n                                {/* Next */}\r\n                            </ul> : ''}\r\n                        {/* Pagination End */}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Content;"]},"metadata":{},"sourceType":"module"}